---
layout: post
title:  "正则表达式中的量词"
date:   2013-09-22 22:15:27
categories: jekyll update
---

如果我们想匹配一个邮政编码，那么该如何做呢？我们知道可以用字符组`[0-9]`或者`\d`匹配单个数字字符，而邮政编码由6个数字组成，那么就是`\d\d\d\d\d\d`。那如果想匹配100个数字呢，难道要写100个`\d`吗？当然不是，这里可以用`{}`来表示数量。

- `\d{6}` 必须是6个数字
- `\d{4,6}` 最少出现4次，最多出现6次
- `\d{4,}` 最少出现4次
- `\d{0,6}` 最多出现6次

有时，在很多情况下我们可能只想表达最少出现1次或最多出现1次这种情况，那么，有三种简化形式可以达到此目的：

- `*` 等价于 `{0,}` 表示可能出现也可能不出现，出现次数没有上限，这个可以对应所有情况
- `+` 等价于 `{1,}` 表示至少出现1次
- `?` 等价于 `{0,1}` 表示至多出现1次，也可能不出现

这里举例子说明。比如，想匹配http或https，那么就可以用`https?`来匹配。

解析html代码时，里面有很多tag，这些tag分为3类：

- open tag：比如`<head>`，可以用`<[^/>][^>]*>`来匹配tag。
- close tag：比如`</head>`，可以用`</[^>]+>`来匹配tag。
- self-closing tag：比如`<br/>`，可以用`<[^>/]+/>`来匹配tag。

> 使用正则表达式的一条根本规律：使用合适的结构（包括字符组和量词），精确表达自己的意图，界定能匹配的文本。
